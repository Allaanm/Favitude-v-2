{% extends 'Favitude/base.html' %}
{% load static %}

{% block title %}Set New Password - Favitude{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/forgot_password.css' %}">
{% endblock %}

{% block content %}
<div class="forgot-password-container">
    <div class="forgot-password-inner-container">
        <div class="forgot-password-first">
            <h2>Set New Password</h2>
            <p class="forgot-password-text">
                Your new password must be different to previously used passwords
            </p>
        </div>

        {% if validlink %}
        <form method="post" class="forgot-password-second input">
            {% csrf_token %}

            {% for field in form %}
            <div class="forgot-password-password-input" style="margin-bottom: 15px;">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                <div class="password-section-one">
                    {{ field }}
                    {% if field.errors %}
                    <div style="color: red; font-size: 12px;">{{ field.errors }}</div>
                    {% endif %}
                </div>
                {% if field.help_text %}
                <p style="font-size: 10px; color: #666;">{{ field.help_text }}</p>
                {% endif %}
            </div>
            {% endfor %}

            <button type="submit" class="forgot-password-btn">
                Reset password
            </button>
        </form>
        {% else %}
        <p class="forgot-password-text" style="color: red;">
            The password reset link was invalid, possibly because it has already been used. Please request a new
            password reset.
        </p>
        {% endif %}

        <p class="forgot-password-login">
            <a href="{% url 'Hill:login_page' %}">
                Back to log in
            </a>
        </p>
    </div>
</div>
{% endblock %}